"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[142],{142:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(861),a=r(439),s=r(757),u=r.n(s),c=r(791),i=r(373),o=r(243),p="https://api.themoviedb.org/3/",l="df510edfce68ed3b1f6165b74448260e";function h(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,e.next=4,o.Z.request("".concat(p,"/search/movie?api_key=").concat(l,"&query=").concat(t),{signal:r.signal});case 4:return n=e.sent,e.abrupt("return",n.data.results);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var v=r(184),x=function(){var e=(0,c.useRef)(null),t=(0,c.useState)([]),r=(0,a.Z)(t,2),s=r[0],o=r[1],p=(0,c.useState)(!1),l=(0,a.Z)(p,2),f=l[0],x=l[1],d=(0,c.useState)(!1),m=(0,a.Z)(d,2),b=m[0],w=m[1],j=function(){var t=(0,n.Z)(u().mark((function t(r){var n,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n=e.current.value,t.prev=2,x(!0),w(!1),t.next=7,h(n);case 7:a=t.sent,o(a),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),w(!0);case 14:return t.prev=14,x(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})));return function(e){return t.apply(this,arguments)}}();return(0,v.jsxs)("form",{onSubmit:j,children:[(0,v.jsx)("label",{htmlFor:"search"}),(0,v.jsx)("input",{type:"text",name:"search",id:"search",ref:e}),(0,v.jsx)("button",{type:"submit",children:"Submit"}),b&&(0,v.jsx)("p",{children:"Sorry, something went wrong"}),f&&(0,v.jsx)("p",{children:"Data is loading"}),s.length>0&&(0,v.jsx)(i.Z,{movies:s})]})},d=function(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),r=t[0],s=(t[1],(0,c.useState)([])),o=(0,a.Z)(s,2),p=o[0],l=o[1],f=(0,c.useState)(!1),x=(0,a.Z)(f,2),d=x[0],m=x[1],b=(0,c.useState)(!1),w=(0,a.Z)(b,2),j=w[0],g=w[1];return(0,c.useEffect)((function(){var e=new AbortController;function t(){return t=(0,n.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),g(!1),e.next=5,h(t);case 5:r=e.sent,l(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g(!0);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),t.apply(this,arguments)}return function(e){t.apply(this,arguments)}(),function(){return e.abort()}}),[r]),(0,v.jsxs)(v.Fragment,{children:[j&&(0,v.jsx)("p",{children:"Sorry, something went wrong"}),d&&(0,v.jsx)("p",{children:"Data is loading"}),p.length>0&&(0,v.jsx)(i.Z,{movies:p})]})},m=function(e,t){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x,{}),e===t&&(0,v.jsx)(d,{})]})}}}]);
//# sourceMappingURL=142.7c9430ed.chunk.js.map